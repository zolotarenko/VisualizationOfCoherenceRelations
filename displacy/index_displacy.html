<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>German Discourse Parsing Demo</title>

    <!-- Bootstrap core CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="node_modules/displacy/displacy.js"></script>

    <!-- Custom styles for this template -->
    <link href="form-validation.css" rel="stylesheet">

      <style type="text/css">
    .custom {
	font-family: Menlo, sans-serif;
	color: black;
	font-size:20px;
    }
    </style>

  </head>

  <body class="custom" background="19742.jpg">
    <div class="container">
      <div class="row">
        <div class="col-md-12 order-md-1 text-center">
          <h2 class="mb-3">German discourse parsing demo</h2>
          <h3 class="mb-3">BETA</h3>

          <p>About...</p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12 order-md-1 border-bottom">
          <h4 class="mb-3">Result</h4>
          <div class="outputtext" id="outputtext"></div>
        </div>
      </div>
    </div>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script>
      // Example starter JavaScript for disabling form submissions if there are invalid fields
<!--//      var forms = document.getElementsByClassName('needs-validation');-->
<!--	$('.needs-validation').submit(function() {-->
<!--      var inputText = $('#exampleTextarea').val();-->
<!--      inputText = inputText.replace(/\r?\n/g, '___NEWLINE___'); // this feels really stupid, must be a better way...-->
      //var lines = inputText.split(/\n/);


//		alert('doing something with: '+inputText);
/*		$.ajax({
		  //url:'https://dev.digitale-kuratierung.de/fub/'+filename,
		  url:'http://127.0.0.1:5000/analyze'//,
		  //beforeSend: function( xhr ) {
		  //  xhr.overrideMimeType( "text/plain; charset=x-user-defined" );
		  //}
		})
		  .done(function( input_data ) {
		    alert(input_data);
		    $('#outputtext').html("Adding some stuff to the window:--"+input_data+"--");// DO STUFF...
		  });
*/

// Create a request variable and assign a new XMLHttpRequest object to it.
<!--var request = new XMLHttpRequest();-->
<!--// Open a new connection, using the GET request on the URL endpoint-->
<!--//request.open('GET', 'https://dev.digitale-kuratierung.de/petdis/analyze', true);-->
<!--//request.open('GET', 'https://dev.digitale-kuratierung.de/petdis/analyzeText?inputText='+inputText, true);-->
<!--request.open('GET', 'http://localhost:5000/parse?input=' + inputText, true);-->
<!--// request.open('GET', 'https://dev.digitale-kuratierung.de/petdis/parse?input='+inputText, true);-->

request.onload = function () {
	//  alert(this.response)
	$('#outputtext').html(this.response); // DO STUFF...
<!--    $('#displacy').html(this.response); // DO STUFF...-->
}
// Send request
request.send();

return false; // return false to cancel form action
});
    </script>
  </body>
</html>
